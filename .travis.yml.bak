language: python
python:
- 3.6
sudo: required
env:
  global:
  - TRAVIS_CI_OPERATOR=1
  - secure: xd7ixciup4yvvPdxsJj59z7W/z5Yq1z/RmLyadl0Hd4J4uIf4MCl70TkCpUqVBjAnj302vjEHFWGmHF8NXqwr9hAwfuzoYbhoiP45tUSxmYKuQpwCCW0ZSGTy0diVh/rebkZTsfsNJZRapdNzI/RhPVjh/l15OwDY1H1c7oVRdTBh3ktVW77uSTaut2eYFTZ411XpnKB9cxL8ES0LnHOIUZXVon5NZ9pLMj2Po6jJjEIaNL/CzoViBYrVEvfLDKiyvXqttH0h+T8COT+FToQNEjz0SuMN/PlFWzGgRiSS2zeeYm1QalZFVIOFNdq4OZC5S1npCcJKG/rKmnXjibEXnSwqKJ+i5OVUtaSiN18AT+pVUL2KqNaMPmv6HF1+ApdbLZJVctW122E6ZmX3znIFKCnHqtg90z8AnWJfU58zhl6sLpYrBvZRdASs9uzvX41C6LC6GM7ZPyC7LSX/ToKFrqCm5FRHHnbOFY16hW++zrPiOFFrRGMu3Rb9yi7/GWKPE7+mrFQwz/KTTmlu2oWZf14aW7y2ausP0cDK2aH3mWuaP6inBWnj5P8ow1Qmwv60od096Q4f+zvfaN8KxkSht7G/Y39a712u1GPLKIgPChjNX/OOjrGg9P2OsLlq1ZabJEOjuZEsbyN+L2TUWc61FXyHa6Xkiiwt5z+SfJY7LQ=
  - secure: waPSNmNPygU1tindN/2S8+SGIqbOapazhdH2NPQ8qrOsnNrcbA4aHrV39mO6k9CvjiX3EPtZMFeBDypzZtW7eb7jMTbVSKWH5NLy+E0NDdxHQFLIdPFjb9xOmb/knEQPhW7Y2brDcUorRfubd6KLai/yA82gdOBT6oDtHEnco+fV91EeEbOY57fgPVaVMUZDbPI5jMineQPqtuU7r+/L1ytbw7xKEFAiz3bMvcdkpD34uFPO70lQLAVAwkS3ucEPAGg3aRRFbKON6KNV6rGtmtaKaS84DfnswfHgq8Ht5hiDEILQ597JxYSeF81LTdqNrGqJ1HaOV7P0Zd2RlOz0VcLe1zsHgMsyx9Xd5QJ/XULv2twtne0RTT7j4tuv3oN38vyVQL6e2KE3bDCqpLO0iQHNlCaveCkYgaTLw3KSPd8zZUvbs7sLc+vyEAjWUZcbq3oDvEblbmlzi75VeaEhAZ3Qz6PL8BhOiE7/hp6q2xd0Sr22CIetZ33wbzDJ1Xbm79Aj/blKYvGyp4Pnv4+d/H3QCltxzQ3V/hc3caReGtHSowmahG2DnNMvnN9K8U6rGJNXElbW/W+VUAOTFwY6rRosSBXEyyovWZk/5xjQhM9K0opJ92C9d/rruUeFuj9PQb9i7w249l32HYQIqZjPkLyGgnkwos7c2RRwM3UQc8c=
services:
- docker
install:
- nvm install 10
- "(cd ui && npm install && npm run package)"
- bash .travis.sh install
script:
- bash .travis.sh script
deploy:
  skip_cleanup: true
  provider: script
  script: bash .travis.sh deploy
  on:
    all_branches: true
    condition: $TRAVIS_PULL_REQUEST = "false"
